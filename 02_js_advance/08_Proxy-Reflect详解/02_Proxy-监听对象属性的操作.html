<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
         const obj = {
            name :"why",
            age:18,
            city:"广州"
        }

        // 1. new Proxy(监听对象, 进行的操作)
        const objProxy = new Proxy(obj, {   
            set: function(target, key, newValue){

                console.log(target === obj); // true

                console.log(`监听: 监听${key}设置的变化`);
                target[key] = newValue
            },
            get: function(target, key){
                console.log(`监听: 监听${key}打印`);
                return target[key]
            }
        })

        // 2. 对obj的所有操作, 应该去操作objProxy
       
        objProxy.name = "xiaomi1"
        console.log(objProxy.name);

        objProxy.name = "xiaomi2"
        console.log(objProxy.name);

        objProxy.city = "xiaomi3"
        console.log(objProxy.city);

    </script>
</body>
</html>